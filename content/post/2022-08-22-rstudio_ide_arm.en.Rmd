---
title: Take the RStudio IDE experimental support for arm64 architectures out for a spin
description: "Learn how to install the experimental builds of the RStudio IDE for arm64 on a Raspberry Pi SBC, compatible with both Raspberry Pi OS and Ubuntu 22.04.1"
author: andres-castro
date: '2022-08-22'
slug: rstudio_ide_arm
categories:
  - R
series: 
  - r-admin
tags:
  - server
  - rstudio-server
  - raspberry-pi
draft: false
images: ["rstudio_ide_arm.png"]
authors: ["andres-castro"]
output:
  blogdown::html_page:
    toc: true
    highlight: zenburn
---

Apple's bet on the arm architecture with their M1 and M2 processors has had an interesting side effect, developers of mainstream software are now forced to support the arm64 architecture and, since they are already supporting macOS for Apple Silicon processors anyways, supporting Linux arm64 distributions is no longer that much of a burden for them. The RStudio IDE development team is not strange to this circumstance and they have been working on general arm64 support, currently, they have made available experimental builds for the arm64 architecture (also known as aarch64) compiled for Ubuntu 22.04 and Ubuntu 18/20, the latter being compatible with Raspberry Pi OS x64. I have decided to give them a try on my Raspberry Pi SBC, if you are interested, join me in the installation process.

## Basic Set Up and Dependencies

The first thing you need is a Raspberry Pi (2/3/4) with Raspberry Pi OS or Ubuntu 22.04.1 LTS installed and updated, make sure to update your system libraries before you start:

```{bash update_pi, eval=FALSE}
sudo apt update
sudo apt dist-upgrade
```

Then, the most important dependency for RStudio is, unsurprisingly, the R language. You have some options for installing R on a Raspberry Pi, each one with its own pros and cons.

You can install the R version that comes with the standard repositories for your OS, which is 4.0.0 for Raspberry Pi OS and 4.1.2 for Ubuntu 22.04.1. This is the easiest option but these versions are quite old:

```{bash install_r_ubuntu, eval=FALSE}
sudo apt install r-base
```

Another option is to compile the latest R version yourself (4.2.2 at the moment of writing), this is time-consuming but it gives you the most flexibility since you can choose options like compiling with BLAS and LAPACK:

```{bash install_r_source, eval=FALSE}
sudo su
    
# Set the R version to install
R_VERSION=4.2.2

apt install -y g++ gcc gfortran libreadline-dev libx11-dev libxt-dev \
            libpng-dev libjpeg-dev libcairo2-dev xvfb \
            libbz2-dev libzstd-dev liblzma-dev libtiff5 \
            libssh-dev libgit2-dev libcurl4-openssl-dev \
            libblas-dev liblapack-dev libopenblas-base \
            zlib1g-dev openjdk-11-jdk \
            texinfo texlive texlive-fonts-extra \
            screen wget libpcre2-dev make cmake
cd /usr/local/src
wget https://cran.rstudio.com/src/base/R-${R_VERSION:0:1}/R-$R_VERSION.tar.gz
tar zxvf R-$R_VERSION.tar.gz
cd R-$R_VERSION
./configure --enable-R-shlib --with-blas --with-lapack #BLAS and LAPACK are optional
make
make install
cd ..
rm -rf R-$R_VERSION*
exit
```

And my new favorite, you can use a precompiled binary from the [R4Pi](https://r4pi.org/ "R for the Raspberry Pi") project, they have been kind enough to make available an arm64 binary for us to try out (big thanks to Mark Sellors [@sellorm](https://twitter.com/sellorm)), it works great with Raspberry Pi OS x64 (Debian 11 based) but sadly it is not compatible with Ubuntu 22.04 (Debian 12 based). This option sacrifices the flexibility of choosing your own compiling options but the gain in installation time (also for R packages) is definitely worth it:

```{bash install_r_r4pi, eval=FALSE}
curl -O  https://pkgs.r4pi.org/dl/r4pi-repo-conf_0.0.1-1_all.deb
sudo dpkg -i  r4pi-repo-conf_0.0.1-1_all.deb
sudo apt update
sudo apt upgrade
sudo apt install r4pi
rm r4pi-repo-conf_0.0.1-1_all.deb
```

```{r echo=FALSE}
blogdown::shortcode('tweet', '1561494517785804801')
```

The experimental RStudio IDE builds do not come with Pandoc nor Quarto bundled since they do not offer official support for arm64. Pandoc you can easily install from the standard repositories for your OS and the IDE will recognize the system version automatically:

```{bash install_pandoc, eval=FALSE}
sudo apt install pandoc pandoc-citeproc
```

Quarto is a different story, the problem with it is that some of its dependencies (i.e. Deno, SASS, Pandoc) are not available for arm64 from official sources, in consequence, Quarto doesn't support arm64 either. I have managed to install the Quarto CLI on arm64 (I have a [related article](/2022/12/09/quarto_arm64/) about this) but I haven't figured out yet how to integrate it with the RStudio IDE so I guess we will have to live without the RStudio IDE integration features with Quarto on arm64 for the time being (or, if you are more clever than me you can find out a way around this and share with the rest of us).

Lastly, for installing the RStudio IDE deb file, as you would do on an x86_64 system, you might want to install `gdebi` to handle package dependencies for you:

```{bash install_gdebi, eval=FALSE}
sudo apt install gdebi
```

## Installing the RStudio IDE

Now we get to the point. There is no stable release of the RStudio IDE for arm64 but there are experimental daily builds available [here](https://dailies.rstudio.com/rstudio/elsbeth-geranium/), both for the server and desktop versions and compiled for Ubuntu 22.04 and Ubuntu 18/20. I'm going to try out the server version for Ubuntu 18/20 because it is compatible with Raspberry Pi OS x64 and I prefer to work with the IDE on my regular computer instead of directly on the Raspberry Pi, but you can install the desktop version the same way if you prefer, just change the link accordingly.

```{bash install_rstudio, eval=FALSE}
wget https://s3.amazonaws.com/rstudio-ide-build/server/bionic/arm64/rstudio-server-2022.12.0-preview-334-arm64.deb
sudo gdebi rstudio-server-2022.12.0-preview-334-arm64.deb
```

Once the installation process is completed, you get a working RStudio IDE installation running on your Raspberry Pi, if you have chosen to install the server version as I did, you can open an RStudio session by opening a browser on any device in your network and typing the proper address i.e. `http:\\your_pi_ip_addres:8787`

![](/post/2022-08-20-rstudio_ide_arm.en_files/rstudio_ide.jpg){width=800px height=400px}

## Final Comments

Have in mind that these are experimental builds of the development version of the RStudio IDE and they are likely to be unstable and buggy so do not trust this for any sort of critical job. You can follow along with the progress on this [GitHub issue](https://github.com/rstudio/rstudio/issues/8809).

Performance on the Raspberry Pi is acceptable, within reason for under-powered systems like these SBCs, but it is pretty far from the performance you would get on more powerful systems like Apple Silicon or full-size arm64 computers if you have access to one of those. If you want to get the most performance out of your Pi, use Raspberry Pi OS since it's the lightest option.

I hope you found this article useful, I will be updating the content as things develop.
